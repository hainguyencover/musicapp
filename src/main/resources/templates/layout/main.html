<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" lang="vi">
<head th:fragment="head(pageTitle)">
    <meta charset="UTF-8">
    <title th:text="${pageTitle} + ' - Music App'">Music App</title>
    <!-- FIXED: Sửa đường dẫn CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<!--<header th:fragment="header">-->
<!--  <nav>-->
<!--    <a th:href="@{/}">Trang chủ</a> |-->
<!--    <a th:href="@{/songs}">Quản lý Bài hát</a> |-->
<!--    <a th:href="@{/artists}">Quản lý Nghệ sĩ</a> |-->
<!--    <a th:href="@{/genres}">Quản lý Thể loại</a>-->
<!--  </nav>-->
<!--  <hr/>-->
<!--</header>-->
<header th:fragment="header" class="main-header">

    <nav class="main-nav">
        <a th:href="@{/}">Trang chủ</a>
        <a sec:authorize="isAuthenticated()" th:href="@{/songs}">Bài hát</a>
        <a sec:authorize="isAuthenticated()" th:href="@{/artists}">Nghệ sĩ</a>
        <a sec:authorize="isAuthenticated()" th:href="@{/genres}">Thể loại</a>
    </nav>

    <div class="user-auth">

        <a sec:authorize="!isAuthenticated()" th:href="@{/login}" class="auth-link login-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="auth-icon">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span>Đăng nhập / Đăng ký</span>
        </a>

        <div sec:authorize="isAuthenticated()" class="auth-user">
            <span>Chào, <strong sec:authentication="name">Username</strong>!</span>

            <form th:action="@{/logout}" method="post" class="logout-form">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <button type="submit" class="auth-link logout-button">
                    (Đăng xuất)
                </button>
            </form>
        </div>
    </div>
</header>

<div class="container">
</div>

<footer th:fragment="footer">
    <hr/>
    <p>&copy; 2025 Music App - Developed by [Tên của bạn]</p>
</footer>

</body>
</html>
